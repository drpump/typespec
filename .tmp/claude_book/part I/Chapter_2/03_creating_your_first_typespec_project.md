# 3. Creating Your First TypeSpec Project

With TypeSpec installed, you're ready to create your first project. This section guides you through initializing a new TypeSpec project, understanding its structure, and verifying that everything is set up correctly.

## Project Initialization

TypeSpec provides a convenient scaffolding tool to quickly set up new projects. There are two primary approaches: using the command line interface or your IDE's integrated tools.

### Using the Command Line Interface

The `tsp init` command creates a new TypeSpec project with all the necessary configuration files:

1. Open your terminal and navigate to the directory where you want to create your project:

```bash
mkdir my-typespec-project
cd my-typespec-project
```

2. Run the initialization command:

```bash
tsp init
```

3. Follow the interactive prompts:
   - Select a template (e.g., "Generic REST API")
   - Enter a project name (or accept the default)
   - Select the libraries to include (the template will suggest appropriate ones)
   - Choose emitter options based on your output needs

### Using VS Code Integration

If you're using Visual Studio Code with the TypeSpec extension:

1. Open VS Code
2. Use the Command Palette (Ctrl+Shift+P or Cmd+Shift+P on macOS)
3. Type "TypeSpec: Create TypeSpec Project" and select the command
4. Follow the same interactive prompts as the CLI approach

This will create a new TypeSpec project directly from your IDE.

## Understanding Project Structure

After initialization, your project will have the following structure:

```
my-typespec-project/
│
├── main.tsp                # Main TypeSpec file (entry point)
├── tspconfig.yaml          # TypeSpec compiler configuration
├── package.json            # Node.js package configuration
├── node_modules/           # Installed dependencies
└── tsp-output/             # Generated output files
    └── @typespec/
        └── openapi3/
            └── openapi.yaml  # Generated OpenAPI specification
```

Let's explore the key files and directories:

### `main.tsp`

This is the entry point for your TypeSpec definitions. In a template-based project, it will contain sample code to help you get started. For example, a REST API template might include:

```typespec
import "@typespec/http";
import "@typespec/rest";
import "@typespec/openapi3";

using TypeSpec.Http;
using TypeSpec.Rest;

@service({
  title: "Pet Store Service",
})
namespace PetStore;

model Pet {
  id: string;
  name: string;
  tag?: string;
}

@route("/pets")
interface PetsResource {
  @get list(): Pet[];
  @get get(@path id: string): Pet;
  @post create(@body pet: Pet): Pet;
  @delete delete(@path id: string): void;
}
```

### `tspconfig.yaml`

This configuration file controls how TypeSpec compiles your project and what outputs are generated. It specifies which emitters to use and their settings:

```yaml
emit:
  - "@typespec/openapi3"

options:
  "@typespec/openapi3":
    output-file: openapi.yaml
```

### `package.json`

This standard Node.js configuration file includes:

- Project metadata
- Dependencies (including TypeSpec libraries)
- Optional scripts for common tasks

```json
{
  "name": "my-typespec-project",
  "version": "0.1.0",
  "dependencies": {
    "@typespec/compiler": "~0.43.0",
    "@typespec/http": "~0.43.0",
    "@typespec/rest": "~0.43.0",
    "@typespec/openapi3": "~0.43.0"
  }
}
```

### `tsp-output/`

This directory contains all files generated by TypeSpec emitters during compilation. The structure will vary based on the emitters you're using and their configuration.

## Compiling Your TypeSpec Project

After setting up your project, you can compile it to generate the desired outputs:

### Basic Compilation

```bash
tsp compile .
```

This command compiles the TypeSpec files in the current directory according to the configuration in `tspconfig.yaml`.

### Watch Mode

For a more interactive development experience, use watch mode to automatically recompile when files change:

```bash
tsp compile . --watch
```

### Specifying Emitters Directly

You can override the emitters specified in `tspconfig.yaml` by providing them directly:

```bash
tsp compile . --emit @typespec/openapi3
```

This is useful for testing different output formats without changing your configuration file.

## Common Project Templates

TypeSpec offers several built-in templates to help you get started with specific scenarios:

### Generic REST API

The most versatile template for HTTP/REST APIs. It includes:

- HTTP and REST libraries
- OpenAPI emitter configuration
- Sample models and operations

### Azure Resource Provider

Specialized for Azure service development, including:

- ARM-specific models and patterns
- Azure-specific validation rules
- Configuration for generating Azure-compliant specifications

### JSON Schema

Focused on data modeling with:

- JSON Schema emitter configuration
- Sample models optimized for schema generation

### RPC Services

For protocol-agnostic RPC-style APIs, including:

- Basic operation definitions
- Service interface patterns

## Customizing Your Project

After creating a project from a template, you'll likely want to customize it for your specific needs:

### Adding New TypeSpec Libraries

To add functionality provided by additional TypeSpec libraries:

1. Install the library:

```bash
npm install @typespec/versioning
```

2. Import the library in your TypeSpec file:

```typespec
import "@typespec/versioning";
using TypeSpec.Versioning;
```

### Configuring Additional Emitters

To generate additional output formats:

1. Install the emitter:

```bash
npm install @typespec/json-schema
```

2. Update your `tspconfig.yaml`:

```yaml
emit:
  - "@typespec/openapi3"
  - "@typespec/json-schema"

options:
  "@typespec/openapi3":
    output-file: openapi.yaml
  "@typespec/json-schema":
    output-file: schema.json
```

## Verifying Your Setup

To ensure your project is correctly configured, perform these verification steps:

1. Check that all required libraries are installed:

```bash
npm list --depth=0
```

2. Compile your project and verify that the expected output files are generated:

```bash
tsp compile .
ls -la tsp-output
```

3. If you're using an IDE extension, verify that it's properly connected to your project by checking for syntax highlighting and hover information in your `.tsp` files.

## Project Setup Troubleshooting

### Missing Dependencies

If you see errors about missing imports, ensure you have installed all required libraries:

```bash
npm install @typespec/http @typespec/rest @typespec/openapi3
```

### Compilation Errors

If compilation fails:

1. Check the error messages for specific issues in your TypeSpec code
2. Verify that your TypeSpec version is compatible with the libraries you're using
3. Make sure your `tspconfig.yaml` is correctly formatted

### IDE Integration Issues

If your IDE isn't providing TypeSpec features:

1. Ensure the TypeSpec extension is installed and enabled
2. Check that the extension can find your TypeSpec compiler (either global or local)
3. Try restarting the TypeSpec language server from the command palette with "TypeSpec: Restart TypeSpec Server"

## Next Steps

Now that you have a functional TypeSpec project, you're ready to start defining your API. In the next section, we'll explore the basic syntax and concepts of TypeSpec to help you write your first API definition.
